arxiv07040010v1 mathco 31 mar 2007

partial cubes structures characterizations and
constructions
sergei ovchinnikov
mathematics department
san francisco state university
san francisco ca 94132
sergeisfsuedu
may 8 2006
abstract
partial cubes are isometric subgraphs of hypercubes structures on a
graph defined by means of semicubes and djokovis and winklers relations play an important role in the theory of partial cubes these structures are employed in the paper to characterize bipartite graphs and partial cubes of arbitrary dimension new characterizations are established
and new proofs of some known results are given
the operations of cartesian product and pasting and expansion and
contraction processes are utilized in the paper to construct new partial
cubes from old ones in particular the isometric and lattice dimensions of
finite partial cubes obtained by means of these operations are calculated

key words hypercube partial cube semicube

1

introduction

a hypercube hx on a set x is a graph which vertices are the finite subsets
of x two vertices are joined by an edge if they differ by a singleton a partial
cube is a graph that can be isometrically embedded into a hypercube
there are three general graphtheoretical structures that play a prominent
role in the theory of partial cubes namely semicubes djokovis relation  and
winklers relation  we use these structures in particular to characterize bipartite graphs and partial cubes the characterization problem for partial cubes
was considered as an important one and many characterizations are known
we list contributions in the chronological order djokovi 9 1973 avis 2
1981 winkler 20 1984 roth and winkler 18 1986 chepoi 6 7 1988
and 1994 in the paper we present new proofs for the results of djokovi 9
winkler 20 and chepoi 6 and obtain two more characterizations of partial
cubes
1

the paper is also concerned with some ways of constructing new partial
cubes from old ones properties of subcubes the cartesian product of partial
cubes and expansion and contraction of a partial cube are investigated we
introduce a construction based on pasting two graphs together and show how
new partial cubes can be obtained from old ones by pasting them together
the paper is organized as follows
hypercubes and partial cubes are introduced in section 2 together with
two basic examples of infinite partial cubes vertex sets of partial cubes are
described in terms of well graded families of finite sets
in section 3 we introduce the concepts of a semicube djokovis  and winklers  relations and establish some of their properties bipartite graphs and
partial cubes are characterized by means of these structures one more characterization of partial cubes is obtained in section 4 where socalled fundamental
sets in a graph are introduced
the rest of the paper is devoted to constructions subcubes and the cartesian product section 6 pasting section 7 and expansions and contractions
section 8 we show that these constructions produce new partial cubes from
old ones isometric and lattice dimensions of new partial cubes are calculated
these dimensions are introduced in section 5
few words about conventions used in the paper are in order the sum
disjoint union a  b of two sets a and b is the union
1  a  2  b
all graphs in the paper are simple undirected graphs in the notation g 
v e the symbol v stands for the set of vertices of the graph g and e stands
for its set of edges by abuse of language we often write ab for an edge in a
graph if this is the case ab is an unordered pair of distinct vertices we denote
hu i the graph induced by the set of vertices u  v  if g is a connected graph
then dg a b stands for the distance between two vertices a and b of the graph
g wherever it is clear from the context which graph is under consideration we
drop the subscript g in dg a b a subgraph h  g is an isometric subgraph
if dh a b  dg a b for all vertices a and b of h it is convex if any shortest
path in g between vertices of h belongs to h

2

hypercubes and partial cubes

let x be a set we denote pf x the set of all finite subsets of x
definition 21 a graph hx has the set pf x as the set of its vertices a
pair of vertices p q is an edge of hx if the symmetric difference p q is a
singleton the graph hx is called the hypercube on x 9 if x is a finite
set of cardinality n then the graph hx is the ncube qn  the dimension of
the hypercube hx is the cardinality of the set x

2

the shortest path distance dp q on the hypercube hx is the hamming
distance between sets p and q
dp q  p q for p q  pf 

21

the set pf x is a metric space with the metric d
definition 22 a graph g is a partial cube if it can be isometrically embedded
into a hypercube hx for some set x we often identify g with its isometric
image in the hypercube hx and say that g is a partial cube on the set x

figure 21 a graph and its isometric embedding into q3 
an example of a partial cube and its isometric embedding into the cube q3
is shown in figure 21
clearly a family f of finite subsets of x induces a partial cube on x if and
only if for any two distinct subsets p q  f there is a sequence
r0  p r1      rn  q
of sets in f such that
dri  ri1   1 for all 0  i  n and dp q  n

22

the families of sets satisfying condition 22 are known as well graded families of sets 10 note that a sequence ri  satisfying 22 is a shortest path
from p to q in hx and in the subgraph induced by f
definition 23 a family f of arbitrary subsets of x is a wgfamily well graded
family of sets if for any two distinct subsets p q  f the set p q is finite
and there is a sequence
r0  p r1      rn  q
of sets in f such that ri ri1   1 for all 0  i  n and p q  n
example 21 the induced graph can be a partial cube on a different set if
the family f is not well graded consider for instance the family
f   a a b a b c b c
of subsets of x  a b c the graph induced by this family is a path of length
4 in the cube q3 cf figure 22 clearly f is not well graded on the other
hand as it can be easily seen any path is a partial cube
3

figure 22 a nonisometric path in the cube q3 
any family f of subsets of x defines a graph gf  f ef  where
ef  p q  f  p q  1
theorem 21 the graph gf defined by a family f of subsets of a set x is
isomorphic to a partial cube on x if and only if the family f is well graded
proof we need to prove sufficiency only let s be a fixed set in f we define
a mapping f  f  pf x by f r  rs for r  f then
df r f t   rst s  rt 
thus f is an isometric embedding of f into pf x let ri  be a sequence of
sets in f such that r0  p  rn  q p q  n and ri ri1   1 for all
0  i  n then the sequence f ri  satisfies conditions 22 the result
follows
a set r  pf x is said to be lattice between sets p q  pf x if
p  q  r  p  q
it is metrically between p and q if
dp r  dr q  dp q
the following theorem is a wellknown result about these two betweenness relations on pf x see for instance 3
theorem 22 lattice and metric betweenness relations coincide on pf x
let f be a family of finite subsets of x the set of all r  f that are
between p q  f is the interval ip q between p and q in f thus
ip q  f  p  q p  q
where p  q p  q is the usual interval in the lattice pf 

4

two distinct sets p q  f are adjacent in f if jp q  p q if sets p
and q form an edge in the graph induced by f then p and q are adjacent in
f but generally speaking not vice versa for instance in example 21 the
vertices  and b c are adjacent in f but do not define an edge in the induced
graph cf figure 22
the following theorem is a local characterization of wgfamilies of sets
theorem 23 a family f  pf x is well graded if and only if dp q  1
for any two sets p and q that are adjacent in f
proof necessity let f be a wgfamily of sets suppose that p and q are
adjacent in f there is a sequence r0  p r1      rn  q that satisfies
conditions 22 since the sequence ri  is a shortest path in f we have
dp pi   dpi  q  dp q

for all 0  i  n

thus pi  ip q  p q it follows that dp q  n  1
sufficiency let p and q be two distinct sets in f we prove by induction
on n  dp q that there is a sequence ri   f satisfying conditions 22
the statement is trivial for n  1 suppose that n  1 and that the
statement is true for all k  n let p and q be two sets in f such that
dp q  n since dp q  1 the sets p and q are not adjacent in f
therefore there exists r  f that lies between p and q and is distinct from
these two sets then dp r  dr q  dp q and both distances dp r
and dr q are less than n by the induction hypothesis there is a sequence
ri   f such that
p  r0  r  rj  q  rn

for some 0  j  n

satisfying conditions 22 for 0  i  j and j  i  n it follows that f is a
wgfamily of sets
we conclude this section with two examples of infinite partial cubes more
examples are found in 17
example 22 let z be the graph on the set z of integers with edges defined
by pairs of consecutive integers this graph is a partial cube since its vertex set
is isometric to the wgfamily of intervals  m  m  z in z
example 23 let us consider zn as a metric space with respect to the l1 metric the graph zn has zn as the vertex set two vertices in zn are connected
if they are on the unit distance from each other we will show in section 6
corollary 61 that zn is a partial cube

3

characterizations

only connected graphs are considered in this section
5

definition 31 let g  v e be a graph and d be its distance function for
any two adjacent vertices a b  v let wab be the set of vertices that are closer
to a than to b
wab  w  v  dw a  dw b
following 11 we call the sets wab and induced subgraphs hwab i semicubes of
the graph g the semicubes wab and wba are called opposite semicubes
remark 31 the subscript ab in wab stands for an ordered pair of vertices
not for an edge of g in his original paper 9 djokovi uses notation ga b
cf 8 we use the notation from 15
clearly two opposite semicubes are disjoint they can be used to characterize bipartite graphs as follows
theorem 31 a graph g  v e is bipartite if and only if the semicubes wab
and wba form a partition of v for any edge ab  e
proof let us recall that a connected graph g is bipartite if and only if for every
vertex x there is no edge ab with dx a  dx b see for instance 1 for
any edge ab  e and vertex x  v we clearly have
dx a  dx b



x
 wab  wba 

the result follows
the following lemma is instrumental and will be used frequently in the rest
of the paper
lemma 31 let g  v e be a graph and w  wab for some edge ab  e
then
dw b  dw a  1
accordingly
wab  w  v  dw b  dw a  1
proof by the triangle inequality we have
dw a  dw b  dw a  da b  dw a  1
the result follows since d takes values in n
there are two binary relations on the set of edges of a graph that play a
central role in characterizing partial cubes
definition 32 let g  v e be a graph and e  xy and f  uv be two
edges of g
i djokovi 9 the relation  on e is defined by
e f  f joins a vertex in wxy with a vertex in wyx 
the notation can be chosen such that u  wxy and v  wyx 
6

ii winkler 20 the relation  on e is defined by
e f



dx u  dy v 6 dx v  dy u

it is clear that both relations  and  are reflexive and  is symmetric
lemma 32 the relation  is a symmetric relation on e
proof suppose that xy  uv with u  wxy and v  wyx  by lemma 31 and
the triangle inequality we have
du x  du y  1  du v  dv y  1  dv y 
 dv x  1  dv u  du x  1  du x
hence du x  dv x  1 and dv y  du y  1 therefore x  wuv and
y  wvu  it follows that uv  xy
lemma 33   
proof suppose that xy  uv with u  wxy  v  wyx  by lemma 31
dx u  dy v  dx v  1  dy u  1 6 dx v  dy u
hence xy  uv
example 31 it is easy to verify that  is the identity relation on the set of
edges of the cycle c3  on the other hand any two edges of c3 stand in the
relation  thus  6  in this case
bipartite graphs can be characterized in terms of relations  and  as follows
theorem 32 a graph g  v e is bipartite if and only if   
proof necessity suppose that g is a bipartite graph two edges xy and uv
stand in the relation  that is
dx u  dy v 6 dx v  dy u
and that edges xy and uv do not stand in the relation  by theorem 31 we
may assume that u v  wxy  by lemma 31 we have
dx u  dy v  dy u  1  dx v  1  dx v  dy u
a contradiction it follows that    by lemma 33   
sufficiency suppose that g is not bipartite by theorem 31 there is an
edge xy such that wxy  wyx is a proper subset of v  since g is connected
there is an edge uv with u 
 wxy  wyx and v  wxy  wyx  clearly uv does
not stand in the relation  to xy on the other hand
dx u  dy v 6 dx v  dy u
since u 
 wxy  wyx and v  wxy  wyx  thus xy  uv a contradiction since
we assumed that   
7

by theorem 32 the relations  and  coincide on bipartite graphs for
this reason we use the relation  in the rest of the paper
lemma 34 let g  v e be a bipartite graph such that all its semicubes are
convex sets then two edges xy and uv stand in the relation  if and only if the
corresponding pairs of mutually opposite semicubes form equal partitions of v 
xy  uv



wxy  wyx   wuv  wvu 

proof necessity we assume that the notation is chosen such that u  wxy
and v  wyx  let z  wxy  wvu  by lemma 31 dz u  dz v  dv u
since z u  wxy and wxy is convex we have v  wxy  a contradiction to the
assumption that v  wyx  thus wxy  wvu   since two opposite semicubes
in a bipartite graph form a partition of v  we have wuv  wxy and wvu  wyx 
a similar argument shows that wuv  wyx and wvu  wxy  if u  wyx
and v  wxy 
sufficiency follows from the definition of the relation 
we need another general property of the relation  cf lemma 22 in 15
lemma 35 let p be a shortest path in a graph g then no two distinct edges
of p stand in the relation 
proof let i  j and xi xi1 and xj xj1 be two edges in a shortest path p from
x0 to xn  then
dxi  xj   dxi  xj1  and dxi1  xj   dxi1  xj1 
so xi  xi1  wxj xj1  it follows that edges xi xi1 and xj xj1 do not stand in
the relation 
the converse statement is true for bipartite graphs we omit the proof a
counterexample is the cycle c5 which is not bipartite
lemma 36 let g  v e be a bipartite graph the following statements are
equivalent
i all semicubes of g are convex
ii the relation  is an equivalence relation on e
proof i  ii follows from lemma 34
ii  i suppose that  is transitive and there is a nonconvex semicube
wab  then there are two vertices u v  wab and a shortest path p from u to
v that intersects wba  this path contains two distinct edges e and f joining
vertices of semicubes wab and wba  the edges e and f stand in the relation 
to the edge ab by transitivity of  we have e f  this contradicts the result
of lemma 35 thus all semicubes of g are convex

8

we now establish some basic properties of partial cubes
theorem 33 let g  v e be a partial cube then
i g is a bipartite graph
ii each pair of opposite semicubes form a partition of v 
iii all semicubes are convex subsets of v 
iv  is an equivalence relation on e
proof we may assume that g is an isometric subgraph of some hypercube
hx that is g  f ef  for a wgfamily f of finite subsets of x
i it suffices to note that if two sets in hx are connected by an edge then
they have different parity thus hx is a bipartite graph and so is g
ii follows from i and theorem 31
iii let wab be a semicube of g by lemma 31 and theorem 22 we have
wab  s  f  s  b  a  s  b
let q r  wab and p be a vertex of g such that
dq p   dp r  dq r
by theorem 22
q  r  p  q  r
since q r  wab  we have
qb aqb

and r  b  a  r  b

which implies
p  b  q  r  b  a  q  r  b  s  b
hence p  wab  and the result follows
iv follows from iii and lemma 36
remark 32 since semicubes of a partial cube g  v e are convex subsets
of the metric space v  they are halfspaces in v 19 this terminology is used
in 6 7
the following theorem presents four characterizations of partial cubes the
first two are due to djokovi 9 and winkler 20 cf theorem 210 in 15
theorem 34 let g  v e be a connected graph the following statements
are equivalent
i g is a partial cube
9

ii g is bipartite and all semicubes of g are convex
iii g is bipartite and  is an equivalence relation
iv g is bipartite and for all xy uv  e
xy  uv



wxy  wyx   wuv  wvu 

31

v g is bipartite and for any pair of adjacent vertices of g there is a unique
pair of opposite semicubes separating these two vertices
proof by lemma 36 the statements ii and iii are equivalent and by theorem 33 i implies both ii and iii
iii  i by theorem 31 each pair wab  wba  of opposite semicubes of
g form a partition of v  we orient these partitions by calling in an arbitrary
way one of the two opposite semicubes in each partition a positive semicube
let us assign to each x  v the set w  x of all positive semicubes containing
x in the next paragraph we prove that the family f  w  xxv is well
graded and that the assignment x 7 w  x is an isometry between v and f
let x and y be two distinct vertices of g we say that a positive semicube
wab separates x and y if either x  wab  y  wba or x  wba  y  wab  it is
clear that wab separates x and y if and only if wab  w  xw  y let p
be a shortest path x0  x x1      xn  y from x to y by lemma 35 no two
distinct edges of p stand in the relation  by lemma 34 distinct edges of p
define distinct positive semicubes clearly these semicubes separate x and y let
wab be a positive semicube separating x and y and say x  wab and y  wba 
there is an edge f  p that joins vertices in wab and wba  hence f stands in
the relation  to ab and by lemma 34 wab is defined by f  it follows that any
semicube in w  xw  y is defined by a unique edge in p and any edge in p
defines a semicube in w  xw  y therefore dw  x w  y  dx y
that is x 7 w  x is an isometry clearly f is a wgfamily of sets
by theorem 21 the family f is isometric to a wgfamily of finite sets
hence g is a partial cube
iv  ii suppose that there exist an edge ab such that semicube wba is
not convex let p and q be two vertices in wba such that there is a shortest
path p from p to q that intersects wab  there are two distinct edges xy and uv
in p such that x u  wab and y v  wba  since ab  xy and ab  uv we have
by 31
wab  wxy  wuv 
hence u  wxy and v  wyx  by lemma 31
dx u  dx v  1  1  dv y  1  dv y
a contradiction since p is a shortest path from p to q
ii  iv follows from lemma 34
it is clear that iv and v are equivalent
10

4

fundamental sets in partial cubes

semicubes played an important role in the previous section in this section we
introduce three more classes of useful subsets of graphs we also establish one
more characterization of partial cubes
let g  v e be a connected graph for a given edge e  ab  e we
define the following sets cf 15 16
fab  f  e  e f   uv  e  u  wab  v  wba 
uab  w  wab  w is adjacent to a vertex in wba 
uba  w  wba  w is adjacent to a vertex in wab 
the five sets are schematically shown in figure 41

figure 41 fundamental sets in a partial cube
remark 41 in the case of a partial cube g  v e the semicubes wab and
wba are complementary halfspaces in the metric space v cf remark 32
then the set fab can be regarded as a hyperplane separating these halfspaces
see 17 where this analogy is formalized in the context of hyperplane arrangements
the following theorem generalizes the result obtained in 16 for median
graphs see also 15
theorem 41 let ab be an edge of a connected bipartite graph g if the
semicubes wab and wba are convex then the set fab is a matching and induces
an isomorphism between the graphs huab i and huba i
proof suppose that fab is not a matching then there are distinct edges xu
and xv with say x  uab and u v  uba  by the triangle inequality du v  2
since g does not have triangles du v 6 1 hence du v  2 which implies
that x lies between u and v this contradicts convexity of wba  since x  wab 
therefore fab is a matching
to show that fab induces an isomorphism let xy uv  fab and xu  e
where x u  uab and y v  uba  since g does not have odd cycles dv y 6 2
11

by the triangle inequality
dv y  dv u  du x  dx y  3
since wba is convex dv y 6 3 thus dv y  1 that is vy is an edge the
result follows by symmetry
by theorem 34ii we have the following corollary
corollary 41 let g  v e be a partial cube for any edge ab the set fab
is a matching and induces an isomorphism between induced graphs huab i and
huba i

figure 42 graph g
example 41 let g be the graph depicted in figure 42 the set
fab  ab xu yv
is a matching and defines an isomorphism between the graphs induced by subsets
uab  a x y and uba  b u v the set wba is not convex so g is not a
partial cube thus the converse of corollary 41 does not hold
we now establish another characterization of partial cubes that utilizes a
geometric property of families fab 
theorem 42 for a connected graph g the following statements are equivalent
i g is a partial cube
ii g is bipartite and
dx u  dy v

and

for any ab  e and xy uv  fab 

12

dx v  dy u

41

proof iii we may assume that x u  wab and y v  wba  since  is an
equivalence relation we have xy  uv ab by lemma 34 wuv  wxy  wab 
by lemma 31
dx u  dx v  1  dv y  1  1  dy v
we also have
dx v  dy v  1  dy u
by the same lemma
iii suppose that g is not a partial cube then by theorem 34 there
exist an edge ab such that say semicube wba is not convex let p and q be two
vertices in wba such that there is a shortest path p from p to q that intersects
wab  let uv be the first edge in p which belongs to fab and xy be the last edge
in p with the same property see figure 43

figure 43 an illustration to the proof of theorem 42
since p is a shortest path we have
dv y  dv u  du x  dx y 6 dx u
which contradicts condition 41 thus all semicubes of g are convex by
theorem 34 g is a partial cube
remark 42 one can say that four vertices satisfying conditions 41 define
a rectangle in g then theorem 42 states that a connected graph is a partial
cube if and only if it is bipartite and for any edge ab pairs of edges in fab define
rectangles in g

5

dimensions of partial cubes

there are many different ways in which a given partial cube can be isometrically
embedded into a hypercube for instance the graph k2 can be isometrically
embedded in different ways into any hypercube hx with x  2
following djokovi 9 see also 8 we define the isometric dimension
dimi g of a partial cube g as the minimum possible dimension of a hypercube
hx in which g is isometrically embeddable recall see section 2 that the
dimension of hx is the cardinality of the set x
13

theorem 51 theorem 2 in 9 let g  v e be a partial cube then
dimi g  e

51

where  is djokovis equivalence relation on e and e is the set of its equivalence classes the quotientset
the quotientset e can be identified with the family of all distinct sets fab
see section 4 if g is a finite partial cube we may consider it as an isometric
subgraph of some hypercube qn  then the edges in each family fab are parallel
edges in qn cf theorem 42 this observation essentially proves 51 in the
finite case
let g be a partial cube on a set x the vertex set of g is a wgfamily f of
finite subsets of x see section 2 we define the retraction of f as a family f
of subsets of x    f   f consisting of the intersections of sets in f with x  
it is clear that f satisfies conditions
 f   and

 f  x  

52

proposition 51 the partial cubes induced by a wgfamily f and its retraction
f are isomorphic
proof it suffices to prove that metric spaces f and f are isometric clearly
  p 7 p  x  is a mapping from f onto f  for p q  f we have
p  x  q  x    p q  x   p q  f  f  p q
thus dp  q  dp q consequently  is an isometry
let g be a partial cube on some set x induced by a wgfamily f satisfying
conditions 52 and let p q be an edge of g by definition there is x  x such
that p q  x the following two lemmas are instrumental
lemma 51 let p q be an edge of a partial cube g on x and let p q  x
the two sets
r  f  x  r and r  f  x 
 r
form the same bipartition of the family f as semicubes wp q and wqp 
proof we may assume that q  p  x then for any r  f

rp   x if x  r
rq  rp  x 
rp
if x 
 r
hence rp   rq if and only if x  r it follows that
wp q  r  f  x  r
a similar argument shows that wqp  r  f  x 
 r
14

lemma 52 if f is a wgfamily of sets satisfying conditions 52 then for
any x  x there are sets p q  f such that p q  x
proof by conditions 52 for a given x  x there are sets s and t in f such
that x  s and x 
 t  let r0  s r1      rn  t be a sequence of sets in
f satisfying conditions 22 it is clear that there is i such that x  ri and
x
 ri1  hence ri ri1  x so we can choose p  ri and q  ri1 
by lemmas 51 and 52 there is onetoone correspondence between the set
x and the quotientset e from theorem 51 we obtain the following result
theorem 52 let f be a wgfamily of finite subsets of a set x such that
 f   and  f  x and let g be a partial cube on x induced by f then
dimi g  x
clearly a graph which is isometrically embeddable into a partial cube is a
partial cube itself we will show in section 6 corollary 61 that the integer
lattice zn is a partial cube thus a graph which is isometrically embeddable
into an integer lattice is a partial cube it follows that a finite graph is a partial
cube if and only if it is embeddable in some integer lattice examples of infinite
partial cubes isometrically embeddable into a finite dimensional integer lattice
are found in 17
we call the minimum possible dimension n of an integer lattice zn  in which
a given graph g is isometrically embeddable its lattice dimension and denote
it dimz g the lattice dimension of a partial cube can be expressed in terms
of maximum matchings in socalled semicube graphs 11
definition 51 the semicube graph scg has all semicubes in g as the set
of its vertices two vertices wab and wcd are connected in scg if
wab  wcd  v

and wab  wcd 6 

53

if g is a partial cube then condition 53 is equivalent to each of the two
equivalent conditions
wba  wcd



wdc  wab 

54

where  stands for the proper inclusion
theorem 53 theorem 1 in 11 let g be a finite partial cube then
dimz g  dimi g  m 
where m is a maximum matching in the semicube graph scg
example 51 let g be the graph shown in figure 21 it is easy to see that
dimi g  3

and
15

dimz g  2

example 52 let t be a tree with n edges and m leaves then
dimi t   n and

dimz t   m2

cf 8 and 14 respectively
example 53 for the cycle c6 we have see figure 82
dimi c6   dimz c6   3

6

subcubes and cartesian products

let g be a partial cube we say that g is a subcube of g if it is an isometric
subgraph of g
clearly a subcube is itself a partial cube the converse does not hold a
subgraph of a graph g can be a partial cube but not an isometric subgraph of
g cf example 21
if g is a subcube of a partial cube g then dimi g   dimi g and
dimz g   dimz g in general the two inequalities are not strict for
instance the cycle c6 is an isometric subgraph of the cube q3 see figure 82
and
dimi c6   dimz c6   dimi q3   dimz q3   3
semicubes of a partial cube are examples of subcubes indeed by theorem 34 semicubes are convex subgraphs and therefore isometric in general
the converse is not true a path connecting two opposite vertices in c6 is an
isometric subgraph but not a convex one
another common way of constructing new partial cubes from old ones is by
forming their cartesian products see 15 for details and proofs
definition 61 given two graphs g1  v1  e1  and g2  v2  e2  their
cartesian product
g  g1  g2
has vertex set v  v1  v2  a vertex u  u1  u2  is adjacent to a vertex
v  v1  v2  if and only if u1 v1  e1 and u2  v2  or u1  v1 and u2 v2  e2 
the operation  is associative so we can write
g  g1      gn 

n
y

gi

i1

for the cartesian product of graphs g1      gn  a cartesian product
is connected if and only if the factors are connected then we have
dg u v 

n
x
i1

16

dgi ui  vi 

qn

i1

gi

61

pn
example 61 let xi ni1 be a family of sets and y  i1 be their sum
then the cartesian product of the hypercubes hxi  is isomorphic to the hypercube hy  the isomorphism is established by the mapping
f  p1      pn  7

n
x

pi 

i1

formula 61 yields immediately the following results
proposition 61 let hi beq
isometric subgraphs of graphs gi for all 1  i  n
n
then theqcartesian product i1 hi is an isometric subgraph of the cartesian
n
product i1 gi 

corollary 61 the cartesian product of a finite family of partial cubes is a
partial cube in particular the integer lattice zn cf examples 22 and 23 is
a partial cube
the results of the next two theorems can be easily extended to arbitrary
finite products of finite partial cubes
theorem 61 let g  g1  g2 be the cartesian product of two finite partial
cubes then
dimi g  dimi g1   dimi g2 

proof we may assume that g1 resp g2  is induced by a wgfamily f1 resp
f2  of subsets of a finite set x1 resp x2  such that  f1   and  f1  x1
resp  f2   and  f2  x1  see section 5 by theorem 52
dimi g1   x1 

and

dimi g2   x2 

it is clear that the graph g is induced by the wgfamily f  f1  f2 of subsets
of the set x  x1  x2 cf example 61 with  f    f  x by
theorem 52
dimi g  x  x1   x2   dimi g1   dimi g2 

theorem 62 let g  v e be the cartesian product of two finite partial
cubes g1  v1  e1  and g2  v2  e2  then
dimz g  dimz g1   dimz g2 
proof let wabcd be a semicube of the graph g there are two possible
cases
i c  a bd  e2  let x y be a vertex of g then by 61
dg x y a b  dg1 x a  dg2 y b

17

and
dg x y c d  dg1 x c  dg2 y d
hence
dg x y a b  dg x y c d



dg2 y b  dg2 y d

it follows that
wabcd  v1  wbd 

62

ii d  b ac  e1  like in i we have
wabcd  wac  v2 

63

clearly two semicubes given by 62 form an edge in the semicube graph
scg if and only if their second factors form an edge in the semicube graph
scg2  the same is true for semicubes in the form 63 with respect to their
first factors it is also clear that semicubes in the form 62 and in the form 63
are not connected by an edge in scg therefore the semicube graph scg is
isomorphic to the disjoint union of semicube graphs scg1  and scg2  if m1
is a maximum matching in scg1  and m2 is a maximum matching in scg2 
then m  m1  m2 is a maximum matching in scg the result follows from
theorems 53 and 61
remark 61 the result of corollary 61 does not hold for infinite cartesian
products of partial cubes as these products are disconnected on the other
hand it can be shown that arbitrary weak cartesian products connected components of cartesian products 15 of partial cubes are partial cubes

7

pasting partial cubes

in this section we use the set pasting technique 5 chi 25 to build new partial
cubes from old ones
let g1  v1  e1  and g2  v2  e2  be two graphs h1  u1  f1  and
h2  u2  f2  be two isomorphic subgraphs of g1 and g2  respectively and
  u1  u2 be a bijection defining an isomorphism between h1 and h2  the
bijection  defines an equivalence relation r on the sum v1  v2 as follows any
element in v1  u1   v2  u2  is equivalent to itself only and elements u1  u1
and u2  u2 are equivalent if and only if u2  u1  we say that the quotient
set v  v1  v2 r is obtained by pasting together the sets v1 and v2 along
the subsets u1 and u2  since the graphs h1 and h2 are isomorphic the pasting
of the sets v1 and v2 can be naturally extended to a pasting of sets of edges
e1 and e2 resulting in the set e of edges joining vertices in v  we say that
the graph g  e v  is obtained by pasting together the graphs g1 and g2
along the isomorphic subgraphs h1 and h2  the pasting construction allows
for identifying in a natural way the graphs g1 and g2 with subgraphs of g and
the isomorphic graphs h1 and h2 with a common subgraph h of both graphs
g1 and g2  we often follow this convention below
18

remark 71 note that in the above construction the resulting graph g depends not only on graphs g1 and g2 and their isomorphic subgraphs h1 and
h2 but also on the bijection  defining an isomorphism from h1 onto h2 see
the drawings in figures 71 and 72

figure 71 pasting of two trees

figure 72 another pasting of the same trees
in general pasting of two partial cubes g1 and g2 along two isomorphic
subgraphs h1 and h2 does not produce a partial cube even under strong assumptions about these subgraphs as the next example illustrates

figure 73 pasting partial cubes g1 and g2 
example 71 pasting of two partial cubes g1  c6 and g2  c6 along
subgraphs h1 and h2 is shown in figure 73 the resulting graph g is not a
partial cube indeed the semicube wab is not a convex set note that subgraphs
h1 and h2 are convex subgraphs of the respective partial cubes
in this section we study two simple pastings of connected graphs together
the vertexpasting and the edgepasting and show that these pastings produce
partial cubes from partial cubes we also compute the isometric and lattice
dimensions of the resulting graphs
let g1  v1  e1  and g2  v2  e2  be two connected graphs a1  v1 
a2  v2  and h1  a1   h2  a2   let g be the graph obtained
19

by pasting g1 and g2 along subgraphs h1 and h2  in this case we say that
the graph g is obtained from graphs g1 and g2 by vertexpasting we also say
that g is obtained from g1 and g2 by identifying vertices a1 and a2  figure 74
illustrates this construction note that the vertex a  a1  a2  is a cut vertex
of g since g1  g2  g and g1  g2  a we follow our convention and
identify graphs g1 and g2 with subgraphs of g

figure 74 an example of vertexpasting
in what follows we use superscripts to distinguish subgraphs of the graphs
2
g1 and g2  for instance wab stands for the semicube of g2 defined by two
adjacent vertices a b  v2 
theorem 71 a graph g  v e obtained by vertexpasting from partial
cubes g1  v1  e1  and g2  v2  e2  is a partial cube
proof we denote a  a1  a2  the vertex of g obtained by identifying vertices
a1  v1 and a2  v2  clearly g is a bipartite graph let xy be an edge of g
without loss of generality we may assume that xy  e1 and a  wxy  note
that any path between vertices in v1 and v2 must go through a since a  wxy 
we have for any v  v2 
dv x  dv a  da x  dv a  da y  dv y
1

which implies v2  wxy and wyx  v1  it follows that wxy  wxy  v2 and
1
1
1
wyx  wyx  the sets wxy  wyx and v2 are convex subsets of v  since
1
1
wxy  v2  a the set wxy  wxy  v2 is also convex by theorem 34ii
the graph g is a partial cube
the vertexpasting construction introduced above can be generalized as
follows let g  gi  vi  ei ij be a family of connected graphs and
a  ai  gi ij be a family of distinguished vertices of these graphs let g
be the graph obtained from the graphs gi by identifying vertices in the set a
we say that g is obtained by vertexpasting together the graphs gi along the
set a
example 72 let j  1     n with n  2
g  gi  ai  bi  ai bi ij 

and a  ai ij 

clearly each gi is k2  by vertexpasting these graphs along a we obtain the
nstar graph k1n 
20

since the star k1n is a tree it can be also obtained from k1 by successive
vertexpasting as in example 73
example 73 let g1 be a tree and g2  k2  by vertexpasting these graphs
we obtain a new tree conversely let g be a tree and v be its leaf let g1 be
a tree obtained from g by deleting the leaf v clearly g can be obtained by
vertexpasting g1 and k2  it follows that any tree can obtained from the graph
k1 by successive vertexpasting of copies of k2 cf theorem 23e in 12
any connected graph g can be constructed by successive vertexpasting of
its blocks using its block cutvertex tree 4 structure let g1 be an endblock of
g with a cut vertex v and g2 be the union of the remaining blocks of g then
g can be obtained from g1 and g2 by vertexpasting along the vertex v it
follows that any connected graph can be obtained from its blocks by successive
vertexpastings
let g  v e be a partial cube we recall that the isometric dimension
dimi g of g is the cardinality of the quotient set e where  is djokovis
equivalence relation on the set e cf formula 51
theorem 72 let g  v e be a partial cube obtained by vertexpasting
together partial cubes g1  v1  e1  and g2  v2  e2  then
dimi g  dimi g1   dimi g2 
proof it suffices to prove that there are no edges xy  e1 and uv  e2 which
are in djokovis relation  with each other suppose that g1 and g2 are
vertexpasted along vertices a1  e1 and a2  e2 and let a  a1  a2   e let
xy  e1 and uv  e2 be two edges in e we may assume that u  wxy  since
a is a cutvertex of g and u  wxy  we have
du a  da x  du x  du y  du a  da y
hence da x  da y which implies
dv x  dv a  da x  dv a  da y  dv y
it follows that v  wxy  therefore the edge xy does not stand in the relation 
to the vertex uv
the next result follows immediately from the previous theorem note that
blocks of a partial cube are partial cubes themselves
corollary 71 let g be a partial cube and g1      gn  be the family of its
blocks then
n
x
dimi gi 
dimi g 
i1

in the case of the lattice dimension of a partial cube we can claim only much
weaker result than one stated in theorem 72 for the isometric dimension we
omit the proof
21

theorem 73 let g be a partial cube obtained by vertexpasting together partial
cubes g1 and g2  then
maxdimz g1  dimz g2   dimz g  dimz g1   dimz g2 
the following example illustrate possible cases for inequalities in theorem 73 let us recall that the lattice dimension of a tree with m leaves is
m2 cf 14
example 74 the star k16 can be obtained from the stars k12 and k14 by
vertexpasting these two stars along their centers clearly
maxdimz k12  dimz k14   dimz k16   dimz k12   dimz k14 
the same star k16 is obtained from two copies of the star k13 by vertexpasting along their centers we have dimz k13   2 dimz k16   3 so
maxdimz k13  dimz k13   dimz k16   dimz k13   dimz k13 
let us vertexpaste two stars k13 along their two leaves the resulting
graph t is a tree with four vertices therefore
maxdimz k13  dimz k13   dimz t   dimz k13   dimz k13 
we now consider another simple way of pasting two graphs together
let g1  v1  e1  and g2  v2  e2  be two connected graphs a1 b1  e1 
a2 b2  e2  and h1  a1  b1  a1 b1  h2  a2  b2  a2 b2  let g be the
graph obtained by pasting g1 and g2 along subgraphs h1 and h2  in this case
we say that the graph g is obtained from graphs g1 and g2 by edgepasting
figures 71 72 and 75 illustrate this construction

figure 75 an example of edgepasting
as before we identify the graphs g1 and g2 with subgraphs of the graph
g and denote a  a1  a2  b  b1  b2  the two vertices obtained by pasting
together vertices a1 and a2 and respectively b1 and b2  the edge ab  e is
obtained by pasting together edges a1 b1  e1 and a2 b2  e2 cf figure 75
then g  g1 g2  v1 v2  a b and e1 e2  ab we use these notations
in the rest of this section
proposition 71 a graph g obtained by edgepasting together bipartite graphs
g1 and g2 is bipartite
22

proof let c be a cycle in g if c  g1 or c  g2  then the length of c is
even since the graphs g1 and g2 are bipartite otherwise the vertices a and
b separate c into two paths each of odd length therefore c is a cycle of even
length the result follows
the following lemma is instrumental it describes the semicubes of the graph
g in terms of semicubes of graphs g1 and g2 
lemma 71 let uv be an edge of g then
1

1

2

2

i for uv  e1 

a b  wuv



wuv  wuv  v2  wvu  wvu 

ii for uv  e2 

a b  wuv



wuv  wuv  v1  wvu  wvu 

iii a  wuv  b  wvu



wuv  wab 

figure 76 edgepasting of graphs g1 and g2 
proof we prove parts i and iii see figure 76
i since any path from w  v2 to u or v contains a or b and a b  wuv  we
1
1
have w  wuv  hence wuv  wuv  v2 and wvu  wvu 
1

1

iii since ab  uv in g1  we have wuv  wab  by theorem 34iv let w
2
be a vertex in wuv  then by the triangle inequality
dw u  dw v  dw b  db v  dw b  db u
since any shortest path from w to u contains a or b we have
dw a  da u  dw u
therefore
dw a  da u  dw b  db u
since ab  uv in g1  we have da u  db v by theorem 42 it follows that
2
2
2
dw a  dw b that is w  wab  we proved that wuv  wab  by
2
2
symmetry wvu  wba  since two opposite semicubes form a partition of v2 
2
2
we have wuv  wab  the result follows
theorem 74 a graph g obtained by edgepasting together partial cubes g1
and g2 is a partial cube
23

proof by theorem 34ii and proposition 71 we need to show that for any
edge uv of g the semicube wuv is a convex subset of v  there are two possible
cases
1
2
i uv  ab the semicube wab is the union of semicubes wab and wab
which are convex subsets of v1 and v2  respectively it is clear that any shortest
1
2
path connecting a vertex in wab with a vertex in wab contains vertex a and
therefore is contained in wab  hence wab is a convex set a similar argument
proves that the set wba is convex
ii uv 6 ab we may assume that uv  e1  to prove that the semicube
wuv is a convex set we consider two cases
a a b  wuv  the case when a b  wvu is treated similarly by
1
lemma 71i the semicube wuv is the union of the semicube wuv and the
set v2 which are both convex sets any shortest path p from a vertex in v2 to
1
1
a vertex in wuv contains either a or b it follows that p  wuv  v2  wuv 
therefore the semicube wuv is convex
b a  wuv  b  wvu  the case when b  wuv  a  wvu is treated
similarly by lemma 71ii wuv  wab  the result follows from part i of
the proof
theorem 75 let g be a graph obtained by edgepasting together finite partial
cubes g1 and g2  then
dimi g  dimi g1   dimi g2   1
proof let  1  and 2 be djokovis relations on e e1  and e2  respectively
by lemma 71 for uv xy  e1 resp uv xy  e2  we have
uv  xy



uv 1 xy

resp uv  xy



uv 2 xy

let uv  e1  xy  e2  and uv  xy suppose that uv ab 
  we may
assume that a b  wuv  by lemma 71i v2  wuv  a contradiction since
xy  e2  hence uv  xy  ab it follows that each equivalence class of the
relation  is either an equivalence class of 1  an equivalence class of 2 or the
class containing the edge ab therefore
e  e1 1   e2 2   1
the result follows since the isometric dimension of a partial cube is equal to the
cardinality of the set of equivalence classes of djokovis relation formula 51
we need some results about semicube graphs in order to prove an analog of
theorem 73 for a partial cube obtained by edgepasting of two partial cubes
lemma 72 let g be a partial cube and wpq wuv  wqp wxy be two edges in
the graph scg then wxy wuv is an edge in scg
24

proof by condition 54 wqp  wuv and wyx  wqp  hence wyx  wuv 
by the same condition wxy wuv  scg
as before we identify partial cubes g1 and g2 with subgraphs of the partial
cube g then g1  g2  g and g1  g2  a b ab  k2 cf figure 76
lemma 73 let g be a partial cube obtained by edgepasting together partial
1
1
2
2
cubes g1 and g2  let wuv wxy resp wuv wxy  be an edge in the semicube
scg1  resp scg2  then wuv wxy is an edge in scg

figure 77 semicubes forming an edge in scg1 
proof it suffices to consider the case of scg1  see figure 77 by condi1
1
1
1
1
1
tion 54 wvu  wxy and wyx  wuv  suppose that a  wvu and b  wyx
1
1
the case when b  wvu and a  wyx is treated similarly then ab 1 xy and
ab 1 uv by transitivity of 1  we have uv 1 xy a contradiction since semicubes
1
1
1
wuv and wxy are distinct therefore we may assume that say a b  wuv 
1
1
1
then by lemma 71 wvu  wvu  v1  since wvu  wxy  wxy  we have
wvu  wxy  by condition 54 wuv wxy is an edge in scg
lemma 74 let m1 and m2 be matchings in graphs scg1  and scg2  there
is a matching m in scg such that
m   m1   m2   1
proof by lemma 73 m1 and m2 induce matchings in scg which we denote
by the same symbols the intersection m1  m2 is either empty or a subgraph
of the empty graph with vertices wab and wba 
if m1  m2 is empty then m  m1  m2 is a matching in scg and the
result follows
if m1  m2 is an empty graph with a single vertex say in m1  we remove
from m1 the edge that has this vertex as its end vertex resulting in the matching
m1  clearly m  m1  m2 is a matching in scg and m   m1   m2   1
suppose now that m1  m2 is the empty graph with vertices wab and wba 
let wab wuv  wba wpq resp wab wxy  wba wrs  be edges in m1 resp m2 
by lemma 72 wxy wrs is an edge in scg2  let us replace edges wab wxy and
wba wrs in m2 by a single edge wxy wrs  resulting in the matching m2  then
m  m1  m2 is a matching in scg and m   m1   m2   1
25

corollary 72 let m1 and m2 be maximum matchings in scg1  and scg2 
respectively and m be a maximum matching in scg then
m   m1   m2   1

71

by theorem 53 we have
dimi g1   dimz g1   m1 

dimi g2   dimz g2   m2 

and
dimi g  dimz g  m 
where m1 and m2 are maximum matchings in scg1  and scg2  respectively
and m is a maximum matching in scg therefore by theorem 75 and 71
we have the following result cf theorem 73
theorem 76 let g be a partial cube obtained by edgepasting from partial
cubes g1 and g2  then
maxdimz g1  dimz g2   dimz g  dimz g1   dimz g2 
example 75 let us consider two edgepastings of the stars g1  k13 and
g2  k13 of lattice dimension 2 shown in figures 71 and 72 in the first case
the resulting graph is the star g  k15 of lattice dimension 3 then we have
maxdimz g1  dimz g2   dimz g  dimz g1   dimz g2 
in the second case the resulting graph is a tree with 4 leaves therefore
maxdimz g1  dimz g2   dimz g  dimz g1   dimz g2 
let c1 a1 and c2 a2 be edges of stars g1  k14 and g2  k14 each of
which has lattice dimension 2 where c1 and c2 are centers of the respective
stars let us edgepaste these two graphs by identifying c1 with c2 and a1 with
a2  respectively the resulting graph g is the star k17 of lattice dimension 4
thus
maxdimz g1  dimz g2   dimz g  dimz g1   dimz g2 

8

expansions and contractions of partial cubes

the graph expansion procedure was introduced by mulder in 16 where it is
shown that a graph is a median graph if and only if it can be obtained from
k1 by a sequence of convex expansions see also 15 a similar result for
partial cubes was established in 6 see also 7 as a corollary to a more general
result concerning isometric embeddability into hamming graphs it was also
established in 13 in the framework of oriented matroids theory
26

in this section we investigate properties of isometric expansion and contraction operations and in particular prove in two different ways that a graph is
a partial cube if and only if it can be obtained from the graph k1 by a sequence
of expansions
a remark about notations is in order in the product 1 2  v1  v2  we
denote vi  i  vi and xi  i x for x  vi  where i j  1 2
definition 81 let g  v e be a connected graph and let g1  v1  e1 
and g2  v2  e2  be two isometric subgraphs of g such that g  g1  g2 
the expansion of g with respect to g1 and g2 is the graph g  v   e  
constructed as follows from g see figure 81
i v   v1  v2  v1  v2 
ii e   e1  e2  m  where m is the matching

1 2
xv1 v2 x x 

s

in this case we also say that g is a contraction of g 

figure 81 expansioncontraction processes
it is clear that the graphs g1 and hv1 i are isomorphic as well as the graphs
g2 and hv2 i
we define a projection p  v   v by pxi   x for x  v  clearly the
restriction of p to v1 is a bijection p1  v1  v1 and its restriction to v2 is a
bijection p2  v2  v2  these bijections define isomorphisms hv1 i  g1 and
hv2 i  g2 
let p  be a path in g  the vertices of g obtained from the vertices in p 
under the projection p define a walk p in g we call this walk p the projection
of the path p   it is clear that
lp   lp  

if p   hv1 i or p   hv2 i

27

81

in this case p is a path in g and either p  p1 p   or p  p2 p   on the
other hand
lp   lp  

if p   hv1 i 
6  and p   hv2 i 
6 

82

and p is not necessarily a path
we will frequently use the results of the following lemma in this section
lemma 81 i for u1  v 1  v1  any shortest path pu1 v1 in g belongs to hv1 i
and its projection puv  p1 pu1 v1  is a shortest path in g accordingly
dg u1  v 1   dg u v
and hv1 i is a convex subgraph of g  a similar statement holds for u2  v 2  v2 
ii for u1  v1 and v 2  v2 
dg u1  v 2   dg u v  1
let pu1 v2 be a shortest path in g  there is a unique edge x1 x2  m such that
x1  x2  pu1 v2 and the sections pu1 x1 and px2 v2 of the path pu1 v2 are shortest
paths in hv1 i and hv2 i respectively the projection puv of pu1 v2 in g is a
shortest path in g
proof i let pu1 v1 be a path in g that intersects v2  since hv1 i is an isometric
subgraph of g there is a path puv in g that belongs to hv1 i then p1
1 puv  is
a path in hv1 i of the same length as puv  by 81 and 82
lp11 puv   lpu1 v1 
therefore any shortest path pu1 v1 in g belongs to hv1 i the result follows
ii let pu1 v2 be a shortest path in g and puv be its projection to v 
by 82
dg u1  v 2   lpu1 v2   lpuv   dg u v
since there is no edge of g joining vertices in v1  v2 and v2  v1  a shortest
path in g from u to v must contain a vertex x  v1  v2  since g1 and g2
are isometric subgraphs there are shortest paths pux in g1 and pxv in g2 such
that their union is a shortest path from u to v then by the triangle inequality
and part i of the proof we have cf figure 81
dg u1  v 2   dg u1  x1   dg x1  x2   dg x2  v 2   dg u v  1
the last two displayed formulas imply dg u1  v 2   dg u v  1
since u1  v1 and v 2  v2 the path pu1 v2 must contain an edge say x1 x2  in
m  since this path is a shortest path in g  this edge is unique then the sections pu1 x1 and px2 v2 of pu1 v2 are shortest paths in hv1 i and hv2 i respectively
clearly puv is a shortest path in g

28

let a1 a2 be an edge in the matching m  xv1 v2 x1 x2  this edge defines
five fundamental sets cf section 4 the semicubes wa1 a2 and wa2 a1  the sets
of vertices ua1 a2 and ua2 a1  and the set of edges fa1 a2  the next theorem
follows immediately from lemma 81 it gives a hint to a connection between
the expansion process and partial cubes
theorem 81 let g be an expansion of a connected graph g and notations
are chosen as above then
i wa1 a2  v1 and wa2 a1  v2 are convex semicubes of g 
ii fa1 a2  m defines an isomorphism between induced subgraphs hua1 a2 i and
hua2 a1 i which are isomorphic to the subgraph g1  g2 
the result of theorem 81 justifies the following constructive definition of
the contraction process
definition 82 let ab be an edge of a connected graph g  v   e   such
that
i semicubes wab and wba are convex and form a partition of v  
ii the set fab is a matching and defines an isomorphism between subgraphs
huab i and huba i
a graph g obtained from the graphs hwab i and hwba i by pasting them along
subgraphs huab i and huba i is said to be a contraction of the graph g 
remark 81 if g is bipartite then semicubes wab and wba form a partition of
its vertex set then by theorem 41 condition i implies condition ii thus
any pair of opposite convex semicubes in a connected bipartite graph defines a
contraction of this graph
by theorem 81 a graph is a contraction of its expansion it is not difficult
to see that any connected graph is also an expansion of its contraction
the following three examples give geometric illustrations for the expansion
and contraction procedures
example 81 let a and b be two opposite vertices in the graph g  c4 
clearly the two distinct paths p1 and p2 from a to b are isometric subgraphs
of g defining an expansion g  c6 of g see figure 82 note that p1 and p2
are not convex subsets of v 
example 82 another isometric expansion of the graph g  c4 is shown
in figure 83 here the path p1 is the same as in the previous example and
g2  g
example 83 lemma 81 claims in particular that the projection of a shortest
path in an extension g of a graph g is a shortest path in g generally speaking

29

figure 82 an expansion of the cycle c4 

figure 83 another isometric expansion of the cycle c4 
the converse is not true consider the graph g shown in figure 84 and two
paths in g
v1  abcef and v2  bde
the graph g in figure 84 is the convex expansion of g with respect to v1 and
v2  the path abdef is a shortest path in g it is not a projection of a shortest
path in g 

figure 84 a shortest path which is not a projection of a shortest path
one can say that in the case of finite partial cubes the contraction procedure
is defined by an orthogonal projection of a hypercube onto one of its facets
by theorem 81 the sets v1 and v2 are opposite semicubes of the graph g
defined by edges in m  their projections are the sets v1 and v2 which are not
necessarily semicubes of g for other semicubes in g we have the following
result
lemma 82 for any two adjacent vertices u v  v 
wui vi  p1 wuv 

for u v  vi and i  1 2

proof by lemma 81
dg xj  ui   dg xj  v i 


30

dg x u  dg x v

for x  v and i j  1 2 the result follows
corollary 81 if uv is an edge of g1  g2  then wu1 v1  wu2 v2 
the following lemma is an immediate consequence of lemma 81 we shall
use it implicitly in our arguments later
lemma 83 let u v  v1 and x  v1  v2  then
x1  wu1 v1



x2  wu1 v1 

the same result holds for semicubes in the form wu2 v2 
generally speaking the projection of a convex subgraph of g is not a convex subgraph of g for instance the projection of the convex path b2 d2 e2 in
figure 84 is the path bde which is not a convex subgraph of g on the other
hand we have the following result
theorem 82 let g  v   e   be an expansion of a graph g  v e with
respect to subgraphs g1  v1  e1  and g2  v2  e2  the projection of a
convex semicube of g different from hv1 i and hv2 i is a convex semicube of g
proof it suffices to consider the case when wuv  pwu1 v1  for u v  v1 cf
theorem 82 let x y  wuv and z  v be a vertex such that
dg x z  dg z y  dg x y
we need to show that z  wuv 

figure 85 a shortest path from x to y
i x y  v1 the case when x y  v2 is treated similarly suppose that
z  v1  then x1  y 1  z 1  v1 and by lemma 81
dg x1  z 1   dg z 1  y 1   dg z 1  y 1 
since x1  y 1  wu1 v1 and wu1 v1 is convex z 1  wu1 v1  hence z  wuv 
suppose now that z  v2  v1  consider a shortest path pxy in g from x
to y containing z this path contains vertices x  y   v1  v2 such that see
figure 85
dg x x   dg x  z  dg x z and dg y y    dg y   z  dg y z

31

since pxy is a shortest path in g we have
dg x x   dg x  y  dg x y

dg x y    dg y   y  dg x y

and
dg x  z  dg z y    dg x  y  
since x x  y  v1  we have x1  x1  y 1  v1  because x1  y 1  wu1 v1 and wu1 v1
is convex x1  wu1 v1  hence x  wuv and similarly y   wuv  since
x2  y 2  z 2  v2 and wu1 v1 is convex z 2  wu1 v1  hence z  wuv 
ii x  v1  v2 and y  v2  v1  we may assume that z  v1  by lemma 81
dg x1  y 2   dg x y  1  dg x z  dg z y  1
 dg x1  z 1   dg z 1  y 2 
since x1  y 2  wu1 v1 and wu1 v1 is convex z 1  wu1 v1  hence z  wuv 
by using the results of lemma 81 it is not difficult to show that the class
of connected bipartite graphs is closed under the expansion and contraction
operations the next theorem establishes this result for the class of partial
cubes
theorem 83 i an expansion g of a partial cube g is a partial cube
ii a contraction g of a partial cube g is a partial cube
proof i let g  v e be a partial cube and g  v   e   be its expansion
with respect to isometric subgraphs g1  v1  e1  and g2  v2  e2  by
theorem 34ii it suffices to show that the semicubes of g are convex
by lemma 81 the semicubes hv1 i and hv2 i are convex so we consider a
semicube in the form wu1 v1 where uv  e1 the other case is treated similarly
let px y be a shortest path connecting two vertices in wu1 v1 and pxy be its
projection to g by theorem 82 x y  wuv and by lemma 81 pxy is a
shortest path in g since wuv is convex pxy belongs to wuv  let z  be a
vertex in px y and z  pz    pxy  by lemma 81
dg z u  dg z v

dg z   u1   dg z   v 1 



since g is a bipartite graph dg z   u1   dg z   v 1  hence px y  wu1 v1 
so wu1 v1 is convex
ii let g  v e be a contraction of a partial cube g  v   e   by
theorem 34 we need to show that the semicubes of g are convex by theorem 82 all semicubes of g are projections of semicubes of g distinct from
hv1 i and hv2 i by theorem 82 the semicubes of g are convex
corollary 82 i a finite connected graph is a partial cube if and only if it
can be obtained from k1 by a sequence of expansions
ii the number of expansions needed to produce a partial cube g from k1
is dimi g
32

proof i follows immediately from theorem 83
ii follows from theorems 82 and 51 see the discussion in section 5 just
before theorem 52 
the processes of expansion and contraction admit useful descriptions in the
case of partial cubes on a set let g  v e be a partial cube on a set x
that is an isometric subgraph of the hypercube hx then it is induced by
some wgfamily f of finite subsets of x cf theorem 21 we may assume see
section 5 that  f   and  f  x
in what follows we present proofs of the results of theorem 83 and corollary 82 given in terms of wgfamilies of sets
the expansion process for a partial cube g on x can be described as follows
let f1 and f2 be wgfamilies of finite subsets of x such that f1  f2 6 
f1  f2  f and the distance between any two sets p  f1  f2 and q  f2  f1
is greater than one note that hf1 i and hf2 i are partial cubes hf1 i  hf2 i 
6 
and hf1 i  hf2 i  hfi  g let x   x  p where p 
 x and
f2  q  p  q  f2 

f  f1  f2 

it is quite clear that the graphs hf2 i and hf2 i are isomorphic and the graph
g  hf i is an isometric expansion of the graph g
theorem 84 an expansion of a partial cube is a partial cube
proof we need to verify that f is a wgfamily of finite subsets of x   by
theorem 23 it suffices to show that the distance between any two adjacent
sets in f is 1 it is obvious if each of these two sets belong to one of the families
f1 or f2  suppose that p  f1 and q  p  f2 are adjacent that is for any
s  f we have
p  q  p  s  p  q  p



s  p or s  q  p

if q  f1  then
p  q  p  q  p  q  p
since p 
 p  by 83 q  p implying dp q  p  1
if q  f2  f1  there is r  f1  f2 such that
dp r  dr q  dp q
since f is well graded by theorem 22
p  q  r  p  q
which implies
p  q  p  r  p  p  q  p
by 83 r  p  q  p a contradiction
33

83

it is easy to recognize the fundamental sets cf section 4 in an isometric
expansion g of a partial cube g  hfi let p  f1  f2 and q  p  p  f2
be two vertices defining an edge in g according to definition 81ii clearly
the families f1 and f2 are the semicubes wp q and wqp of the graph g cf
lemma 51 and therefore are convex subsets of f  the set fp q is the set
of edges defined by p as in lemma 51 in addition up q  f1  f2 and
uqp  r  p  r  f1  f2 
let g be a partial cube induced by a wgfamily f of finite subsets of a set
x as before we assume that  f   and  f  x let p q be an edge of g
we may assume that q  p  p for some p 
 p  then see lemma 51
wp q  r  f  p 
 r and wqp  r  f  p  r
let x   x  p and f  r  p  r  f it is clear that the graph g
induced by the family f is isomorphic to the contraction of g defined by the
edge p q geometrically the graph g is the orthogonal projection of the graph
g along the edge p q cf figures 82 and 83
theorem 85 i a contraction g of a partial cube g is a partial cube
ii if g is finite then dimi g   dimi g  1
proof i for p  x we define f1  r  f  p 
 r f2  r  f  p  r
and f2  r  p  f  p  r note that f1 and f2 are semicubes of g
and f2 is isometric to f2  hence f1 and f2 are wgfamilies of finite subsets
of x   we need to prove that f  f1  f2 is a wgfamily by theorem 23
it suffices to show that dp q  1 for any two adjacent sets p q  f  this
is true if p q  f1 or p q  f2  since these two families are well graded for
p  f1  f2 and q  f2  f1  the sets p and q  p are not adjacent in f
since f is well graded and q 
 f hence there is r  f1 such that
p  q  p  r  p  q  p
and r 6 p  since p 
 r we have
p  q  r  p  q
since r 6 p and r 6 q the sets p and q are not adjacent in f  the result
follows
ii if g is a finite partial cube then by theorem 52
dimi g   x    x  1  dimi g  1

9

conclusion

the paper focuses on two themes of a rather general mathematical nature
34

1 the characterization problem it is a common practice in mathematics
to characterize a particular class of object in different terms we present new
characterizations of the classes of bipartite graphs and partial cubes and give
new proofs for known characterization results
2 constructions the problem of constructing new objects from old ones
is a standard topic in many branches of mathematics for the class of partial
cubes we discuss operations of forming the cartesian product expansion and
contraction and pasting it is shown that the class of partial cubes is closed
under these operations
because partial cubes are defined as graphs isometrically embeddable into
hypercubes the theory of partial cubes has a distinctive geometric flavor the
three main structures on a graphsemicubes and djokovis and winklers
relationsare defined in terms of the metric structure on a graph one can say
that this theory is a branch of discrete metric geometry not surprisingly geometric structures play an important role in our treatment of the characterization
and construction problems

references
1 as asratian tmj denley and r hggkvist bipartite graphs and
their applications cambridge university press 1998
2 d avis hypermetric spaces and the hamming cone canadian journal of
mathematics 33 1981 795802
3 l blumenthal theory and applications of distance geometry oxford
university press london great britain 1953
4 ja bondy basic graph theory paths and circuits in rl graham
m grtshel and l lovsz eds handbook of combinatorics the mit
press cambridge massachusetts 1995 pp 3110
5 n bourbaki general topology addisonwesley publ co 1966
6 v chepoi isometric subgraphs of hamming graphs and dconvexity control and cybernetics 24 1988 611
7 v chepoi separation of two convex sets in convexity structures journal
of geometry 50 1994 3051
8 mm deza and m laurent geometry of cuts and metrics springer 1997
9 d djokovi distance preserving subgraphs of hypercubes j combin
theory ser b 14 1973 263267
10 jp doignon and jcl falmagne wellgraded families of relations discrete math 173 1997 3544

35

11 d eppstein the lattice dimension of a graph european j combinatorics
26 2005 585592 doi 101016jejc200405001
12 a frank connectivity and network flows in rl graham m grtshel
and l lovsz eds handbook of combinatorics the mit press cambridge massachusetts 1995 pp 111177
13 k fukuda and k handa antipodal graphs and oriented matroids discrete mathematics 111 1993 245256
14 f hadlock and f hoffman manhattan trees util math 13 1978 5567
15 w imrich and s klavar product graphs john wiley  sons 2000
16 hm mulder the interval function of a graph mathematical centre
tracts 132 mathematisch centrum amsterdam 1980
17 s ovchinnikov media theory representations and examples discrete applied mathematics in review eprint available at
httparxivorgabsmathco0512282
18 ri roth and pm winkler collapse of the metric hierarchy for bipartite
graphs european journal of combinatorics 7 1986 371375
19 mlj van de vel theory of convex structures elsevier the netherlands
1993
20 pm winkler isometric embedding in products of complete graphs discrete appl math 8 1984 209212

36

